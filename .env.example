# =================================================================
#        AIRFLOW SETTINGS
# =================================================================

# ---- Airflow Database Connection ----
AIRFLOW__DATABASE__SQL_ALCHEMY_CONN=postgresql+psycopg2://airflow:airflow@postgres/airflow

# ---- Airflow Core Settings ----
AIRFLOW__CORE__EXECUTOR=LocalExecutor
AIRFLOW__CORE__DAGS_ARE_PAUSED_AT_CREATION=true
AIRFLOW__CORE__LOAD_EXAMPLES=false
AIRFLOW__CORE__DAGS_FOLDER=/opt/airflow/dags
AIRFLOW__WEBSERVER__DEFAULT_UI_TIMEZONE=UTC

# ---- Required Encryption and Security Keys ----
AIRFLOW__CORE__FERNET_KEY=REPLACE_WITH_FERNET_KEY
AIRFLOW__WEBSERVER__SECRET_KEY=REPLACE_WITH_SECRET_KEY

# ---- Web Admin Bootstrap ----
_AIRFLOW_WWW_USER_CREATE=true
_AIRFLOW_WWW_USER_USERNAME=admin
_AIRFLOW_WWW_USER_PASSWORD=admin
_AIRFLOW_WWW_USER_EMAIL=admin@example.org
_AIRFLOW_WWW_USER_FIRSTNAME=Air
_AIRFLOW_WWW_USER_LASTNAME=Flow
_AIRFLOW_WWW_USER_ROLE=Admin

# ---- File ownership inside containers ----
AIRFLOW_UID=50000

# =================================================================
#        MLFLOW SETTINGS
# =================================================================

MLFLOW_TRACKING_URI=http://mlflow:5000
MLFLOW_ARTIFACT_URI=gs://YOUR_BUCKET_NAME/mlflow

# Model Registry
MODEL_NAME=loan_default_model
MODEL_ALIAS=staging

# Best params path (Optuna â†’ Training DAG)
BEST_PARAMS_PATH=/opt/airflow/artifacts/best_xgb_params.json

# =================================================================
#        GCS SETTINGS
# =================================================================

GCS_BUCKET=YOUR_BUCKET_NAME
GOOGLE_APPLICATION_CREDENTIALS=/opt/airflow/keys/gcs-service-account.json
GOOGLE_CLOUD_PROJECT=YOUR_PROJECT_ID

# =================================================================
#        DATA & ARTIFACT PATHS
# =================================================================

TRAIN_DATA_PATH=gs://YOUR_BUCKET_NAME/data/loan_default_selected_features_clean.csv
PREDICTION_INPUT_PATH=gs://YOUR_BUCKET_NAME/data/batch_input.csv
PREDICTION_OUTPUT_PATH=gs://YOUR_BUCKET_NAME/predictions/predictions.csv

# =================================================================
#        MODEL PROMOTION & ALERTS
# =================================================================

PROMOTE_FROM_ALIAS=staging
PROMOTE_TO_ALIAS=production
PROMOTION_AUC_THRESHOLD=0.75
PROMOTION_F1_THRESHOLD=0.0

PROMOTION_TRIGGER_SOURCE=train_pipeline_dag
PROMOTION_TRIGGERED_BY=automated_weekly_job

SLACK_WEBHOOK_URL=https://hooks.slack.com/services/XXX/YYY/ZZZ
ALERT_EMAILS=you@example.com

# =================================================================
#        SMTP SETTINGS (Airflow EmailOperator)
# =================================================================
AIRFLOW__SMTP__SMTP_HOST=smtp.gmail.com
AIRFLOW__SMTP__SMTP_PORT=587
AIRFLOW__SMTP__SMTP_STARTTLS=True
AIRFLOW__SMTP__SMTP_SSL=False
AIRFLOW__SMTP__SMTP_USER=you@example.com
AIRFLOW__SMTP__SMTP_PASSWORD=REPLACE_WITH_APP_PASSWORD
AIRFLOW__SMTP__SMTP_MAIL_FROM=you@example.com
